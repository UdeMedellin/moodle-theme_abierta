{"version":3,"file":"coursechanges.min.js","sources":["../src/coursechanges.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\ndefine(['jquery', 'core/modal_factory', 'core/str', 'core/log', 'core/templates'], function($, ModalFactory, str, Log, Templates) {\n  'use strict';\n\n    // Load strings.\n    var strings = [];\n    strings.push({key: 'badgelinkcopiedtoclipboard', component: 'block_ludifica'});\n\n    var s = [];\n\n    if (strings.length > 0) {\n\n        strings.forEach(one => {\n            s[one.key] = one.key;\n        });\n\n        str.get_strings(strings).then(function(results) {\n            var pos = 0;\n            strings.forEach(one => {\n                s[one.key] = results[pos];\n                pos++;\n            });\n            return true;\n        }).fail(function(e) {\n            Log.debug('Error loading strings');\n            Log.debug(e);\n        });\n    }\n    // End of Load strings.\n\n    return {\n        init: function() {\n\n            $('.banner-top').parents('.no-overflow').removeClass('no-overflow');\n\n            var fn_effect = function () {\n                var $this = $(this);\n                var $parents = $this.parents('.box_resources');\n\n                if ($parents.length == 0) {\n                    return;\n                }\n\n                var $parent = $($parents[0]);\n\n                $parent.find('.selected').removeClass('selected');\n                $parent.find('[data-rel]').hide();\n                $parent.find('[data-rel=\"' + $this.attr('data-type') + '\"]').show();\n                $this.addClass('selected');\n\n            };\n\n            $('.menucontroler').on('mouseover touchstart', fn_effect);\n\n            $('.menucontroler').on('touchend', function() {\n                var $node = $('[data-rel=\"' + $(this).attr('data-type') + '\"]');\n                $(\"html, body\").animate({ scrollTop: $node.offset().top }, 500);\n            });\n\n            $('.attachedimages, .sliderimages').each(function() {\n                var $this = $(this);\n                $this.find('br').remove();\n                $this.find('img').first().addClass('active');\n\n                var fnnextimage = function () {\n                    var $active = $this.find('img.active');\n                    var $next = $active.next('img');\n\n                    $active.removeClass('active');\n\n                    if ($next.length > 0) {\n                        $next.addClass('active');\n                    } else {\n                        $this.find('img').first().addClass('active');\n                    }\n                };\n\n                var fnprevimage = function () {\n                    var $active = $this.find('img.active');\n                    var $next = $active.prev('img');\n\n                    $active.removeClass('active');\n\n                    if ($next.length > 0) {\n                        $next.addClass('active');\n                    } else {\n                        $this.find('img').last().addClass('active');\n                    }\n                };\n\n                if ($this.find('img').length > 0) {\n                    $this.find('img').on('click', fnnextimage);\n\n                    var $controlbefore = $('<div class=\"slide-control\" data-action=\"before\">&#60;</div>');\n                    $controlbefore.on('click', fnprevimage);\n                    $this.append($controlbefore);\n\n                    var $controlafter = $('<div class=\"slide-control\" data-action=\"after\">&#62;</div>');\n                    $controlafter.on('click', fnnextimage);\n                    $this.append($controlafter);\n\n                } else {\n                    $this.hide();\n                }\n           });\n\n            $('completion.complete').parents('.completion-parent').addClass('complete');\n\n            $('completion.incomplete').parents('.completion-parent').addClass('incomplete');\n\n            $('[data-dhbg-toggle]').on('click', function() {\n                var $this = $(this);\n                var cssclass = $this.attr('data-dhbg-toggle');\n                var target = $this.attr('data-target');\n\n                $(target).toggleClass(cssclass);\n            });\n\n\n            $('.tepuy-accordion').each(function() {\n                var $this = $(this);\n\n                $this.find('> div').addClass('closed');\n\n                $this.find('> div > h3').each(function() {\n                    var $header = $(this);\n                    var $parent = $header.parent();\n                    var $body = $parent.find('> div');\n\n                    $header.on('click', function() {\n\n                        var opened = false;\n                        if ($parent.hasClass('opened')) {\n                            opened = true;\n                        }\n\n                        $this.find('> div.opened > div').hide(400);\n                        $this.find('> div.opened').removeClass('opened').addClass('closed');\n\n                        if (opened) {\n                            $parent.removeClass('opened').addClass('closed');\n                            $body.hide(400);\n                        } else {\n                            $parent.removeClass('closed').addClass('opened');\n                            $body.show(400);\n                        }\n                    });\n\n                });\n\n            });\n\n\n            $('.tepuy-transition').on('click', function(event) {\n                event.preventDefault();\n\n                var $this = $(this);\n                var $show = $($this.attr('data-show'));\n                var $hide = $($this.attr('data-hide'));\n                var transition = $this.attr('data-transition');\n                var duration = $this.attr('data-duration') ? parseInt($this.attr('data-duration')) : 400;\n\n                if (transition) {\n                    $hide.hide(duration, transition, function() {\n                        $show.show(duration, transition);\n                    });\n                } else {\n                    $hide.hide();\n                    $show.show();\n                }\n            });\n\n            // ==============================================================================================\n            // Float Window\n            // ==============================================================================================\n            $('.tepuy-wf').each(function() {\n                var $this = $(this);\n\n                $this.wrapInner(\"<div class='tepuy-body'></div>\");\n\n                var style = '';\n                if ($this.attr('data-property-width')) {\n                    style += 'width:' + $this.attr('data-property-width') + ';';\n                }\n\n                if ($this.attr('data-property-height')) {\n                    style += 'height:' + $this.attr('data-property-height') + ';';\n                }\n\n                var $close = $('<div class=\"tepuy-close\">X</div>');\n                $close.on('click', function() {\n                    $this.hide({ effect: 'slide', direction: 'down' });\n                });\n\n                if (style != '') {\n                    $this.attr('style', style);\n                }\n\n                $this.append($close);\n                $this.hide();\n            });\n\n            $('.tepuy-wf-controller').on('click', function(){\n                var $this = $(this);\n                var w = $this.attr('data-property-width');\n                var h = $this.attr('data-property-height');\n\n                var $float_window = $($this.attr('data-property-content'));\n\n                if (w) {\n                    $float_window.css('width', w);\n                }\n\n                if (h) {\n                    $float_window.css('height', h);\n                }\n\n                $float_window.show({ effect: 'slide', direction: 'down' });\n            });\n\n            // ==============================================================================================\n            // Modal Window\n            // ==============================================================================================\n            $('.tepuy-w').each(function() {\n                var $this = $(this);\n\n                if ($this.parents('[data-fieldtype=\"editor\"]') && $this.parents('[data-fieldtype=\"editor\"]').length > 0) {\n                    return;\n                }\n\n                $this.wrapInner(\"<div class='tepuy-body'></div>\");\n\n                if ($this.attr('data-tepuy-showentry') || $this.attr('data-tepuy-showconcept')) {\n\n                    var searchparams = {};\n\n                    if ($this.attr('data-tepuy-showentry')) {\n                        searchparams.eid = $this.attr('data-tepuy-showentry');\n                    } else if ($this.attr('data-tepuy-showconcept') && M.abierta && M.abierta.courseid) {\n                        searchparams.concept = $this.attr('data-tepuy-showconcept');\n                        searchparams.courseid = M.abierta.courseid;\n                    }\n\n                    $.get(M.cfg.wwwroot + '/mod/glossary/showentry_ajax.php',\n                            searchparams,\n                            function(data) {\n\n                                if (data.entries && Object.keys(data.entries).length > 0) {\n                                    var content = '';\n\n                                    Object.keys(data.entries).forEach(function(item) {\n                                        if (data.entries[item].definition) {\n                                            content = data.entries[item].definition;\n                                        }\n                                    });\n                                    $this.find('.tepuy-body').html(content);\n                                }\n                    }, 'json');\n\n                } else if ($this.attr('data-tepuy-innerentry')) {\n\n                    if ($this.find('a.glossary.autolink').length > 0) {\n                        $.get($this.find('a.glossary.autolink').attr('href').replace('showentry.php', 'showentry_ajax.php'),\n                                function(data) {\n                                    if (data.entries && data.entries.length > 0) {\n                                        $this.find('.tepuy-body').html(data.entries[0].definition);\n                                    }\n                        }, 'json');\n\n                        $this.attr('title', $this.find('a.glossary.autolink').attr('title'));\n                    }\n                } else if ($this.attr('data-tepuy-innerautolink')) {\n\n                    if ($this.find('a.autolink').length > 0) {\n                        var url = $this.find('a.autolink').attr('href') + '&inpopup=true';\n                        $this.find('a.autolink').hide();\n\n                        var $iframe = $('<iframe></iframe>');\n                        $iframe.attr('src', url);\n                        $iframe.on('load', function() {\n                            $iframe.contents().find('a:not([target])').attr('target', '_top');\n                        });\n\n                        $this.find('.tepuy-body').append($iframe);\n                        $this.attr('title', $this.find('a.autolink').html());\n                    }\n                }\n\n                $this.hide();\n            });\n\n            $('.tepuy-w-controller').on('click', function(e){\n                e.preventDefault();\n\n                var $this = $(this);\n\n                if ($this.parents('[data-fieldtype=\"editor\"]') && $this.parents('[data-fieldtype=\"editor\"]').length > 0) {\n                    return;\n                }\n\n                var dialogue = $this.data('dialogue');\n\n                if (!dialogue) {\n\n                    var w = $this.attr('data-property-width');\n                    var h = $this.attr('data-property-height');\n\n                    var $float_window = $($this.attr('data-tepuy-content') + ' .tepuy-body');\n\n                    var properties = {\n                        center: true,\n                        modal: true,\n                        visible: false,\n                        draggable: false,\n                        width: 'auto',\n                        height: 'auto',\n                        autofillheight: 'header',\n                        bodyContent: $float_window\n                    };\n\n                    if (w) {\n                        if (w.indexOf('%') >= 0) {\n                            var window_w = $(window).width();\n                            var tmp_w = Number(w.replace('%', ''));\n                            if (!isNaN(tmp_w) && tmp_w > 0) {\n                                w = tmp_w * window_w / 100;\n                            }\n                        }\n\n                        properties.width = w;\n                    }\n\n                    if (h) {\n                        if (h.indexOf('%') >= 0) {\n                            var window_h = $(window).height();\n                            var tmp_h = Number(h.replace('%', ''));\n                            if (!isNaN(tmp_h) && tmp_h > 0) {\n                                h = tmp_h * window_h / 100;\n                            }\n                        }\n\n                        properties.height = h;\n                    }\n\n                    var dialogue = new M.core.dialogue(properties);\n                    $this.data('dialogue', dialogue);\n                }\n\n                dialogue.show();\n            });\n\n            // ==============================================================================================\n            // Open resources into modal\n            // ==============================================================================================\n            $('.tepuy-openinmodal').each(function() {\n                var $this = $(this);\n\n                if ($this.parents('[data-fieldtype=\"editor\"]') && $this.parents('[data-fieldtype=\"editor\"]').length > 0) {\n                    return;\n                }\n\n                $this.find('a').each(function() {\n                    this.removeAttribute('onclick');\n                });\n\n                $this.find('a').on('click', function(event) {\n                    event.preventDefault();\n\n                    var $link = $(this);\n\n                    var dialogue = $link.data('dialogue');\n\n                    if (!dialogue) {\n\n                        var w = $this.attr('data-property-width');\n                        var h = $this.attr('data-property-height');\n\n                        var url = $link.attr('href') + '&inpopup=true';\n                        var $iframe = $('<iframe class=\"tepuy-openinmodal-container\"></iframe>');\n                        $iframe.attr('src', url);\n                        $iframe.on('load', function() {\n                            $iframe.contents().find('a:not([target])').attr('target', '_top');\n                        });\n\n\n                        var el = $.fn['hide'];\n                        $.fn['hide'] = function () {\n                            this.trigger('hide');\n                            return el.apply(this, arguments);\n                        };\n\n                        $iframe.on('hide', function() {\n                        });\n\n                        var $float_window = $('<div></div>');\n\n                        $float_window.append($iframe);\n\n                        var properties = {\n                            center: true,\n                            modal: true,\n                            visible: false,\n                            draggable: true,\n                            width: 'auto',\n                            height: 'auto',\n                            autofillheight: 'header',\n                            bodyContent: $float_window\n                        };\n\n                        if (w) {\n                            if (w.indexOf('%') >= 0) {\n                                var window_w = $(window).width();\n                                var tmp_w = Number(w.replace('%', ''));\n                                if (!isNaN(tmp_w) && tmp_w > 0) {\n                                    w = tmp_w * window_w / 100;\n                                }\n                            }\n\n                            properties.width = w;\n                        }\n\n                        if (h) {\n                            if (h.indexOf('%') >= 0) {\n                                var window_h = $(window).height();\n                                var tmp_h = Number(h.replace('%', ''));\n                                if (!isNaN(tmp_h) && tmp_h > 0) {\n                                    h = tmp_h * window_h / 100;\n                                }\n                            }\n\n                            properties.height = h;\n                        }\n\n                        var dialogue = new M.core.dialogue(properties);\n                        $link.data('dialogue', dialogue);\n                        dialogue.after('visibleChange', function(e) {\n                            if (e.attrName === 'visible') {\n                                if (e.prevVal && !e.newVal) {\n                                    $iframe.contents().find('video, audio').each(function(){\n                                        this.pause();\n                                    });\n                                }\n                            }\n                        }, dialogue);\n                    }\n\n                    dialogue.show();\n\n                });\n\n            });\n\n            // ==============================================================================================\n            // Mouseover\n            // ==============================================================================================\n            $('.tepuy-mouse-over').on('mouseover', function(){\n                var $this = $(this);\n                var $popup = $($this.data('ref'));\n                $popup.show();\n            });\n\n            $('.tepuy-mouse-over').on('mouseout', function(){\n                var $this = $(this);\n                var $popup = $($this.data('ref'));\n                $popup.hide();\n            });\n\n            // ==============================================================================================\n            // Ranking and home button\n            // ==============================================================================================\n\n            $('.block_ludifica-tabs').each(function() {\n                var $tabs = $(this);\n                var tabslist = [];\n                var $ranking_site = $('.ranking_site-button');\n                var $ranking_course = $('.ranking_course-button');\n                var $ranking_last = $('.ranking_last-button');\n                var $home = $('.home-button');\n\n                $tabs.find('[data-ref]').each(function() {\n                    var $tab = $(this);\n                    tabslist.push($tab);\n\n                    $ranking_site.on('click', function() {\n                        tabslist.forEach(one => {\n                            $(one.data('ref')).removeClass('active');\n                        });\n\n                        $(\".tab-topbysite\").addClass('active');\n                    });\n\n                    $ranking_last.on('click', function() {\n                        tabslist.forEach(one => {\n                            $(one.data('ref')).removeClass('active');\n                        });\n\n                        $(\".tab-lastmonth\").addClass('active');\n                    });\n\n                    $ranking_course.on('click', function() {\n                        tabslist.forEach(one => {\n                            $(one.data('ref')).removeClass('active');\n                        });\n\n                        $(\".tab-topbycourse\").addClass('active');\n                    });\n\n                    $home.on('click', function() {\n                        tabslist.forEach(one => {\n                            $(one.data('ref')).removeClass('active');\n                        });\n\n                        $(\".tab-profile\").addClass('active');\n                    });\n                });\n            });\n\n            // ==============================================================================================\n            // Show dynamic helps\n            // ==============================================================================================\n            $('.dynamichelp-button').on('click', function() {\n\n                var $content = $('.modalhelps');\n\n                ModalFactory.create({\n                      body: $content.html()\n                    }).then(function(modal) {\n                    modal.show();\n                });\n            });\n\n            // ==============================================================================================\n            // Info badge modal\n            // ==============================================================================================\n\n            $('.openbadgeinfo').on('click', function() {\n\n                var badge = {\n                    \"id\": $(this).data('badgeid')\n                };\n\n                var $badge = $('#badge-' + badge.id);\n\n                badge.description = $badge.data('description');\n                badge.thumbnail = $badge.find('.picture-box img').attr('src');\n                badge.expire = $badge.data('expire');\n                badge.unavailable = $badge.data('unavailable');\n                badge.name = $badge.data('name');\n\n                var badgedata = {\n                    \"description\": badge.description,\n                    \"thumbnailurl\": badge.thumbnail,\n                    \"expire\": badge.expire,\n                    \"unavailable\": badge.unavailable,\n                    \"badge\": badge\n                };\n\n                Templates.render('block_ludifica/badgeinfo', badgedata).then(function(content) {\n                    ModalFactory.create({\n                        title: badge.name,\n                        body: content,\n                    }).then(function(modal) {\n                        return modal.show().then(function() {\n\n                            $('.openshare_abierta').on('click', function() {\n\n                                $badge.find('.openshare').trigger('click');\n\n                            });\n                        });\n                    });\n                });\n            });\n        }\n    };\n});\n"],"names":["define","$","ModalFactory","str","Log","Templates","strings","push","key","component","s","length","forEach","one","get_strings","then","results","pos","fail","e","debug","init","parents","removeClass","on","$this","this","$parents","$parent","find","hide","attr","show","addClass","$node","animate","scrollTop","offset","top","each","remove","first","fnnextimage","$active","$next","next","$controlbefore","prev","last","append","$controlafter","cssclass","target","toggleClass","$header","parent","$body","opened","hasClass","event","preventDefault","$show","$hide","transition","duration","parseInt","wrapInner","style","$close","effect","direction","w","h","$float_window","css","searchparams","eid","M","abierta","courseid","concept","get","cfg","wwwroot","data","entries","Object","keys","content","item","definition","html","replace","url","$iframe","contents","dialogue","properties","center","modal","visible","draggable","width","height","autofillheight","bodyContent","indexOf","window_w","window","tmp_w","Number","isNaN","window_h","tmp_h","core","removeAttribute","$link","el","fn","trigger","apply","arguments","after","attrName","prevVal","newVal","pause","$tabs","tabslist","$ranking_site","$ranking_course","$ranking_last","$home","$tab","$content","create","body","badge","$badge","id","description","thumbnail","expire","unavailable","name","badgedata","render","title"],"mappings":"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"}